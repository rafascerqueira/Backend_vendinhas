{"version":3,"sources":["../../src/controllers/shopHandler.js"],"names":["Sale","Customer","require","module","exports","index","req","res","customers","findAll","include","model","as","required","json","shopStore","customerId","params","id","invoice","create"],"mappings":";;AAAA,MAAM;AAAEA,EAAAA,IAAF;AAAQC,EAAAA;AAAR,IAAqBC,OAAO,CAAC,6BAAD,CAAlC;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACf,QAAMC,KAAN,CAAYC,GAAZ,EAAiBC,GAAjB,EAAsB;AACpB,UAAMC,SAAS,GAAG,MAAMR,IAAI,CAACS,OAAL,CAAa;AACnCC,MAAAA,OAAO,EAAE,CAAC;AAAEC,QAAAA,KAAK,EAAEV,QAAT;AAAmBW,QAAAA,EAAE,EAAE,UAAvB;AAAmCC,QAAAA,QAAQ,EAAE;AAA7C,OAAD;AAD0B,KAAb,CAAxB;AAIA,WAAON,GAAG,CAACO,IAAJ,CAASN,SAAT,CAAP;AACD,GAPc;;AAQf,QAAMO,SAAN,CAAgBT,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,UAAMS,UAAU,GAAGV,GAAG,CAACW,MAAJ,CAAWC,EAA9B;AAEA,UAAMC,OAAO,GAAG,MAAMnB,IAAI,CAACoB,MAAL,CAAY;AAAEJ,MAAAA;AAAF,KAAZ,CAAtB;AAEA,WAAOT,GAAG,CAACO,IAAJ,CAASK,OAAT,CAAP;AACD;;AAdc,CAAjB","sourcesContent":["const { Sale, Customer } = require(\"../database/postgres/models\");\n\nmodule.exports = {\n  async index(req, res) {\n    const customers = await Sale.findAll({\n      include: [{ model: Customer, as: \"customer\", required: true }]\n    });\n\n    return res.json(customers);\n  },\n  async shopStore(req, res) {\n    const customerId = req.params.id;\n\n    const invoice = await Sale.create({ customerId });\n\n    return res.json(invoice);\n  }\n};\n"],"file":"shopHandler.js"}